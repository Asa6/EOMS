<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EOMS</title>

    <link href="/static/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/static/css/dashboard.css" rel="stylesheet">
    <link rel="icon" href="/static/fonts/favicon.ico">

    <style>
        .hide {
            display: none;
        }
    </style>
</head>

<body style="overflow: hidden">
{% include 'top.html' %}

<div class="container-fluid">
    <div class="row">
        {% include 'left.html' with activecss1='active' %}
        <div id="content" class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"
             style="overflow-y: auto; bottom: 0;top: 50px; position: absolute;
             right: 0;">

            <blockquote style="border-left-color: #428bca; padding: 5px 20px;">
                <p style="font-size: 15px;">实例概况</p>
            </blockquote>

            <div style="padding-top: auto">
                <hr style="margin-bottom: 10px">
            </div>


            <div style="width:35%;float:left;text-align:center;margin-right: 15px; vertical-align:middle;margin-top: 30px"
                 class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">实例</h3>
                </div>
                <div class="panel-body">
                    <div style="float: left;width: 23%;margin-right: 2%;margin-left: -2%">
                        <div style="margin-bottom: 5px;font-size: 15px;">总数量</div>
                        <span style="font-size: 35px;color: #428bca">{{ TotalQuantity }}</span>
                    </div>

                    <div style="float: left;">

                        <table width="1" border="1" bordercolor="#c8c5c5" height=80px" frame=rhs>
                            <tr>
                                <td style="border:none"></td>
                            </tr>
                        </table>

                    </div>


                    <div style="float: left;width: 23%;margin-right: 3%;">
                        <div style="margin-bottom: 5px;font-size: 15px">运行中</div>
                        <span style="font-size: 35px; color: lawngreen;">{{ ActiveNumber }}</span>
                    </div>

                    <div style="float: left;">

                        <table width="1" border="1" bordercolor="#c8c5c5" height="80px" frame=rhs>
                            <tr>
                                <td style="border:none"></td>
                            </tr>
                        </table>

                    </div>

                    <div style="float: left;width: 23%;margin-right: 2%;">
                        <div style="margin-bottom: 5px;font-size: 15px">已停止</div>
                        <span style="font-size: 35px; color: red;">{{ StopNumber }}</span>
                    </div>

                    <div style="float: left;">

                        <table width="1" border="1" bordercolor="#c8c5c5" height="80px" frame=rhs>
                            <tr>
                                <td style="border:none"></td>
                            </tr>
                        </table>

                    </div>

                    <div style="float: left;width: 23%;margin-left: 2%;">
                        <div style="margin-bottom: 5px;font-size: 15px">已释放</div>
                        <span style="font-size: 35px; color: red;">{{ ReleasedNumber }}</span>
                    </div>
                </div>
            </div>


            <div style="width:35%;float:left;text-align:center;margin-right: 15px; vertical-align:middle;margin-top: 30px"
                 class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">用户</h3>
                </div>
                <div class="panel-body">
                    <div style="float: left;width: 23%;margin-right: 2%;margin-left: -2%">
                        <div style="margin-bottom: 5px;font-size: 15px;">总人数</div>
                        <span style="font-size: 35px;color: #428bca">100</span>
                    </div>

                    <div style="float: left;">

                        <table width="1" border="1" bordercolor="#c8c5c5" height=80px" frame=rhs>
                            <tr>
                                <td style="border:none"></td>
                            </tr>
                        </table>

                    </div>


                    <div style="float: left;width: 23%;margin-right: 3%;">
                        <div style="margin-bottom: 5px;font-size: 15px">在线</div>
                        <span style="font-size: 35px; color: lawngreen;">96</span>
                    </div>

                    <div style="float: left;">

                        <table width="1" border="1" bordercolor="#c8c5c5" height="80px" frame=rhs>
                            <tr>
                                <td style="border:none"></td>
                            </tr>
                        </table>

                    </div>

                    <div style="float: left;width: 23%;margin-right: 2%;">
                        <div style="margin-bottom: 5px;font-size: 15px">离线</div>
                        <span style="font-size: 35px; color: red;">4</span>
                    </div>

                    <div style="float: left;">

                        <table width="1" border="1" bordercolor="#c8c5c5" height="80px" frame=rhs>
                            <tr>
                                <td style="border:none"></td>
                            </tr>
                        </table>

                    </div>

                    <div style="float: left;width: 23%;margin-left: 2%;">
                        <div style="margin-bottom: 5px;font-size: 15px">停用</div>
                        <span style="font-size: 35px; color: red;">25</span>
                    </div>
                </div>
            </div>

            {#             <div style="float:left;margin-right: 20px;text-align:center; vertical-align:middle;margin-top: 30px" class="panel panel-info">#}
            {#                <div class="panel-heading">#}
            {#                    <h3 class="panel-title">用户</h3>#}
            {#                </div>#}
            {#                <div class="panel-body">#}
            {#                    <div style="float: left;width: 90px;">#}
            {#                        <div style="margin-bottom: 5px;font-size: 15px">总人数</div>#}
            {#                        <span style="font-size: 35px;color: #428bca">20</span>#}
            {#                    </div>#}
            {##}
            {#                    <div style="float: left;">#}
            {##}
            {#                        <table width="1" border="1" bordercolor="#c8c5c5" height=80px" frame=rhs>#}
            {#                            <tr>#}
            {#                                <td style="border:none"></td>#}
            {#                            </tr>#}
            {#                        </table>#}
            {##}
            {#                    </div>#}
            {##}
            {##}
            {#                    <div style="float: left;width: 90px;">#}
            {#                        <div style="margin-bottom: 5px;font-size: 15px">在线</div>#}
            {#                        <span style="font-size: 35px; color: lawngreen;">2</span>#}
            {#                    </div>#}
            {##}
            {#                    <div style="float: left;">#}
            {##}
            {#                        <table width="1" border="1" bordercolor="#c8c5c5" height="80px" frame=rhs>#}
            {#                            <tr>#}
            {#                                <td style="border:none"></td>#}
            {#                            </tr>#}
            {#                        </table>#}
            {##}
            {#                    </div>#}
            {##}
            {#                    <div style="float: left;width: 100px;margin-right: 25px;margin-left: 25px">#}
            {#                        <div style="margin-bottom: 5px;font-size: 15px">离线</div>#}
            {#                        <span style="font-size: 35px; color: red;">16</span>#}
            {#                    </div>#}
            {##}
            {#                    <div style="float: left;">#}
            {##}
            {#                       <table width="1" border="1" bordercolor="#c8c5c5" height="80px" frame=rhs>#}
            {#                            <tr>#}
            {#                                <td style="border:none"></td>#}
            {#                            </tr>#}
            {#                        </table>#}
            {##}
            {#                    </div>#}
            {##}
            {#                    <div style="float: left;width: 100px;margin-right: 25px;margin-left: 25px">#}
            {#                        <div style="margin-bottom: 5px;font-size: 15px">停用</div>#}
            {#                        <span style="font-size: 35px; color: red;">2</span>#}
            {#                    </div>#}
            {#                </div>#}
            {#            </div>#}


            {#            <div style="float:left;margin-left: 25px;width: 200px;text-align:center; vertical-align:middle"#}
            {#                 class="panel panel-info">#}
            {#                <div class="panel-heading">#}
            {#                    <h3 class="panel-title">阿里云主机数量</h3>#}
            {#                </div>#}
            {#                <div style="font-size: 30px;" class="panel-body">290台</div>#}
            {#            </div>#}
            {##}
            {#            <div style="float:left;margin-left: 25px;width: 200px;text-align:center; vertical-align:middle"#}
            {#                 class="panel panel-info">#}
            {#                <div class="panel-heading">#}
            {#                    <h3 class="panel-title">用户数量</h3>#}
            {#                </div>#}
            {#                <div style="font-size: 30px;" class="panel-body">2人</div>#}
            {#            </div>#}
            {##}
            {#            <div style="float:left;margin-left: 25px;width: 200px;text-align:center; vertical-align:middle"#}
            {#                 class="panel panel-info">#}
            {#                <div class="panel-heading">#}
            {#                    <h3 class="panel-title">当前在线用户</h3>#}
            {#                </div>#}
            {#                <div style="font-size: 30px;" class="panel-body">1人</div>#}
            {#            </div>#}


            <div style="float: left;margin-left:69%; z-index: 999;position:absolute;">

                <table width="1" border="1" bordercolor="#c8c5c5" height="1200px" frame=rhs>
                    <tr>
                        <td style="border:none"></td>
                    </tr>
                </table>


            </div>

            <blockquote
                    style="float:left;border-left-color: #428bca; padding: 2px 10px;margin-left: 30px;margin-top: 10px">
{#                                <p style="font-size: 15px;">近期消息&nbsp;&nbsp;<span style="margin-top: -2px" class="badge">42</span></p>#}
                <p style="font-size: 15px;">近期消息</p>
            </blockquote>


            <div style="clear:both;"></div>


            <div id="main1" style="width: 70%;height: 450px;margin-top: 30px;"></div>



            <div id="main" style="width: 70%;height: 450px;margin-top: 50px;margin-right: 25px;"></div>


            {##}
            {#            <div id="main" style="width: 900px;height:700px; margin-top: 70px;"></div>#}
            {##}
            {#             <div id="main1" style="width: 1200px;height:700px; margin-top: 70px;"></div>#}


            {#            <div class="panel-group" id="accordion">#}
            {##}
            {#    <div class="panel panel-success">#}
            {#        <div class="panel-heading">#}
            {#            <h4 class="panel-title">#}
            {#                <a data-toggle="collapse" data-parent="#accordion"#}
            {#                href="#collapseTwo" class="collapsed1">#}
            {#                点击我进行展开，再次点击我进行折叠。第 2 部分--show 方法#}
            {#                </a>#}
            {#            </h4>#}
            {#        </div>#}
            {#        <div id="collapseTwo" class="panel-collapse collapse">#}
            {#            <div class="panel-body">#}
            {#                Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred#}
            {#                nesciunt sapiente ea proident. Ad vegan excepteur butcher vice#}
            {#                lomo.#}
            {#            </div>#}
            {#        </div>#}
            {#    </div>#}
            {#    <div class="panel panel-info">#}
            {#        <div class="panel-heading">#}
            {#            <h4 class="panel-title">#}
            {#                <a data-toggle="collapse" data-parent="#accordion"#}
            {#                href="#collapseThree" class="collapsed1">#}
            {#                点击我进行展开，再次点击我进行折叠。第 3 部分--toggle 方法#}
            {#                    <span id="setup-menu-icon1" class="pull-right glyphicon glyphicon-chevron-left"></span>#}
            {#                </a>#}
            {#            </h4>#}
            {#        </div>#}
            {#        <div id="collapseThree" class="panel-collapse collapse">#}
            {#            <div class="panel-body">#}
            {#                Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred#}
            {#                nesciunt sapiente ea proident. Ad vegan excepteur butcher vice#}
            {#                lomo.#}
            {#            </div>#}
            {#        </div>#}
            {#    </div>#}
            {#    <div class="panel panel-warning">#}
            {#        <div class="panel-heading">#}
            {#            <h4 class="panel-title">#}
            {#                <a data-toggle="collapse" data-parent="#accordion"#}
            {#                href="#collapseFour" class="collapsed1">#}
            {#                点击我进行展开，再次点击我进行折叠。第 4 部分--options 方法#}
            {#                </a>#}
            {#            </h4>#}
            {#        </div>#}
            {#        <div id="collapseFour" class="panel-collapse collapse">#}
            {#            <div class="panel-body">#}
            {#                Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred#}
            {#                nesciunt sapiente ea proident. Ad vegan excepteur butcher vice#}
            {#                lomo.#}
            {#            </div>#}
            {#        </div>#}
            {#    </div>#}
            {#</div>#}


        </div>
    </div>
</div>


<script src="/static/js/jQuery/jquery.min.js"></script>
<script src="/static/js/BootStrap/bootstrap.min.js"></script>
<script src="/static/js/jQuery/jquery.cookie.js"></script>
<script src="/static/js/utils/del_session.js"></script>
<script src="/static/js/utils/sidebar_folding.js"></script>
<script src="/static/js/utils/left_menu_collapse.js"></script>
<script src="/static/js/ECharts/echarts.min.js"></script>

<script>
        $.ajaxSetup({
            data: {csrfmiddlewaretoken: '{{ csrf_token }}'},
        });
</script>

{#<script>#}
{#$(document).ready(function () {#}
{#    $('#collapseThree').on('show.bs.collapse', function () {#}
{#console.log("打开");#}
{#        $("#setup-menu-icon1").removeClass("glyphicon-chevron-left");#}
{#        $("#setup-menu-icon1").addClass("glyphicon-chevron-down");#}
{#\})#}
{#\});#}
{##}
{#</script>#}
{##}
{#<script>#}
{#    $(document).ready(function () {#}
{#     $('#collapseThree').on('hide.bs.collapse', function () {#}
{#console.log("隐藏");#}
{#          $("#setup-menu-icon1").removeClass("glyphicon-chevron-down");#}
{#          $("#setup-menu-icon1").addClass("glyphicon-chevron-left");#}
{#\})#}
{#        });#}
{#</script>#}

{#<script>#}
{#        $('#collapse1').on('show.bs.collapse', function () {#}
{#console.log("打开")#}
{#        $("#setup-menu-icon").removeClass("glyphicon-chevron-left");#}
{#        $("#setup-menu-icon").addClass("glyphicon-chevron-down");#}
{#    });#}
{##}
{##}
{##}
{##}
{#    $('#collapse1').on('hide.bs.collapse', function () {#}
{#console.log("隐藏")#}
{#        $("#setup-menu-icon").removeClass("glyphicon-chevron-down");#}
{#        $("#setup-menu-icon").addClass("glyphicon-chevron-left");#}
{#    });#}
{#</script>#}


<script>
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));
    {#var myChart = echarts.init($("#main").get(0));#}

    var key_list = [];
    var series_data = [];

    for (var key in {{ BusinessLineRatio |safe }}) {
        series_data.push({name: key, value: {{ BusinessLineRatio |safe }}[key]});
        key_list.push(key);
    }

    // 指定图表的配置项和数据
    option = {
        title: {
            text: '业务线主机数量占比',
            subtext: '实例类型：阿里云',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c}台 ({d}%)"
        },
        legend: {
            orient: 'vertical',
            left: 'left',
            data: key_list
        },
        series: [
            {
                name: '主机数量',
                type: 'pie',
                radius: '55%',
                center: ['50%', '60%'],
                data: series_data,
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>

<script>
    var myChart1 = echarts.init(document.getElementById('main1'));

    option1 = {
        title: {
            text: '历史在线用户数'
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data: ['在线用户']
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
        },
        yAxis: {
            type: 'value'
        },
        series: [
            {
                name: '在线用户',
                type: 'line',
                stack: '总量',
                data: [2, 1, 5, 0, 10, 9, 2]
            }
        ]
    };

    myChart1.setOption(option1);
</script>

<script>


    window.onresize = function(){
    myChart.resize();
    myChart1.resize();
};
</script>


{#onresize功能增强#}
<script>
    		(function($, h, c) {
			var a = $([]), e = $.resize = $.extend($.resize, {}), i, k = "setTimeout", j = "resize", d = j
					+ "-special-event", b = "delay", f = "throttleWindow";
			e[b] = 300;
			e[f] = true;
			$.event.special[j] = {
				setup : function() {
					if (!e[f] && this[k]) {
						return false
					}
					var l = $(this);
					a = a.add(l);
					$.data(this, d, {
						w : l.width(),
						h : l.height()
					});
					if (a.length === 1) {
						g()
					}
				},
				teardown : function() {
					if (!e[f] && this[k]) {
						return false
					}
					var l = $(this);
					a = a.not(l);
					l.removeData(d);
					if (!a.length) {
						clearTimeout(i)
					}
				},
				add : function(l) {
					if (!e[f] && this[k]) {
						return false
					}
					var n;
					function m(s, o, p) {
						var q = $(this), r = $.data(this, d);
						r.w = o !== c ? o : q.width();
						r.h = p !== c ? p : q.height();
						n.apply(this, arguments)
					}
					if ($.isFunction(l)) {
						n = l;
						return m
					} else {
						n = l.handler;
						l.handler = m
					}
				}
			};
			function g() {
				i = h[k](function() {
					a.each(function() {
						var n = $(this), m = n.width(), l = n.height(), o = $
								.data(this, d);
						if (m !== o.w || l !== o.h) {
							n.trigger(j, [ o.w = m, o.h = l ])
						}
					});
					g()
				}, e[b])
			}
		})(jQuery, this);

</script>

<script>
    $("#content").resize(function () {
        {#console.log("改变")#}
        myChart.resize();
        myChart1.resize();
    })
</script>


</body>
</html>